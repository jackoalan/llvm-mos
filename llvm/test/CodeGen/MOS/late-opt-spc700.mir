# NOTE: Assertions have been autogenerated by utils/update_mir_test_checks.py
# RUN: llc -mtriple=mos -mcpu=mosspc700 -run-pass=mos-late-opt -verify-machineinstrs -o - %s | FileCheck %s
---
name: cmptermz_alone_pl
body: |
  bb.0.entry:
    ; CHECK-LABEL: name: cmptermz_alone_pl
    ; CHECK: dead $a = PL
    ; CHECK-NEXT: dead $x = TA $a, implicit-def $nz
    ; CHECK-NEXT: RTS implicit $n
    dead $a = PL
    dead $c = CMPTermZ $a, implicit-def $nz
    RTS implicit $n
...
---
name: cmptermz_elision_pl
body: |
  bb.0.entry:
    ; CHECK-LABEL: name: cmptermz_elision_pl
    ; CHECK: $a = T_A killed $x, implicit-def $nz
    ; CHECK-NEXT: dead $x = PL
    ; CHECK-NEXT: RTS implicit $n
    $a = T_A killed $x
    dead $x = PL
    dead $c = CMPTermZ $a, implicit-def $nz
    RTS implicit $n
...
