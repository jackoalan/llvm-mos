# NOTE: Assertions have been autogenerated by utils/update_mir_test_checks.py
# RUN: llc -mtriple=mos -mcpu=mosspc700 -run-pass=instruction-select -verify-machineinstrs -o - %s | FileCheck %s
--- |
  define void @br_indirect() {
    entry:
      ret void
  }
---
name: br_indirect
legalized: true
regBankSelected: true
body: |
  bb.0.entry:
    ; CHECK-LABEL: name: br_indirect
    ; CHECK: [[LDImm:%[0-9]+]]:gpr = LDImm target-flags(lo) blockaddress(@br_indirect, %ir-block.entry)
    ; CHECK-NEXT: [[LDImm1:%[0-9]+]]:gpr = LDImm target-flags(hi) blockaddress(@br_indirect, %ir-block.entry)
    ; CHECK-NEXT: [[REG_SEQUENCE:%[0-9]+]]:imag16 = REG_SEQUENCE [[LDImm]], %subreg.sublo, [[LDImm1]], %subreg.subhi
    ; CHECK-NEXT: $x = LDImm 0
    ; CHECK-NEXT: JMPIndir [[REG_SEQUENCE]], implicit killed $x
    ; CHECK-NEXT: RTS
    %0:any(p0) = G_BLOCK_ADDR blockaddress(@br_indirect, %ir-block.entry)
    G_BRINDIRECT %0
    RTS
...
