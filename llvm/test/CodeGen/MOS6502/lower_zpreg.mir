# RUN: llc -mtriple=mos6502 -run-pass=mos6502-lowerzpreg -verify-machineinstrs -o - %s | FileCheck %s
---
name: test
body: |
  bb.0.entry:
    LDAyindirr $zp_ptr_0, implicit-def $a, implicit-def $nz, implicit $y
    $a = LDzpr $zp_0, implicit-def $nz
    $zp_1 = STzpr $a
    $a = LDzpr $zp_2, implicit-def $nz
    $a = LDzpr $splo, implicit-def $nz
    $a = LDzpr $sphi, implicit-def $nz
    LDAyindirr $sp, implicit-def $a, implicit-def $nz, implicit $y
    $a = ASL $a, implicit-def $c, implicit-def $nz
    $zp_0 = ASL $zp_0, implicit-def $c, implicit-def $nz
# CHECK: LDAyindir &_ZP_0, implicit-def $a, implicit-def $nz, implicit $y
# CHECK: $a = LDzp &_ZP_0, implicit-def $nz
# CHECK: STzp &_ZP_1, $a
# CHECK: $a = LDzp &_ZP_2, implicit-def $nz
# CHECK: $a = LDzp &_SPlo, implicit-def $nz
# CHECK: $a = LDzp &_SPhi, implicit-def $nz
# CHECK: LDAyindir &_SPlo, implicit-def $a, implicit-def $nz, implicit $y
# CHECK: ASLA
# CHECK: ASLzp &_ZP_0
...
